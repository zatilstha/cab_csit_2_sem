<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Register Page</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js"></script>
</head>
<body>

<div class="container">
    <div class="login-box bg-green color-white">
        <div class="text-center">
            <p class="font-20">Register Page</p>
        </div>
        <form id="registerForm">
            <div>
                <label for="name">Name</label>
                <input type="text" class="input-field" name="name" id="name" placeholder="Enter your name" >
            </div>
            <div>
                <div>
                    <label for="email">Email</label>
                    <input type="email" class="input-field" name="email" id="email" placeholder="Enter your email"
                           >
                </div>
                <div>
                    <label for="phone">Phone</label>
                    <input type="number" class="input-field" name="phone" id="phone" placeholder="Enter your phone"
                           >
                </div>
                <div class="mt-10">
                    <label for="password">Password</label>
                    <input type="password" class="input-field" name="password" id="password"
                           placeholder="Enter your password" >
                </div>
                <div class="text-center mt-10">
                    <button type="submit" class="bg-white color-green">Register</button>
                </div>
            </div>
        </form>
    </div>
</div>

<!--The integrity attribute allows a browser to check the fetched script to ensure that the code is never loaded if the source has been manipulated.-->
<script src="https://code.jquery.com/jquery-3.6.3.js" integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM="
        crossorigin="anonymous"></script>
<script>
    $(document).ready(function () {
        console.log('DOM is loaded!')
    })

    $('#registerForm').submit(function (e) {
        e.preventDefault()

        if (validateForm()){
            console.log('Post form')
        }else console.log('Validation errors')
    })

    function validateForm() {
        const name = $('#name').val()
        const email = $('#email').val()
        const phone = $('#phone').val()
        const password = $('#password').val()

        let errorCount = 0
        $('.color-red').remove()

        if (!name) {
            errorCount++
            $('#name').after(getErrorHtml('Please enter name!'))
        } else $('#name').next($('.color-red')).remove()


        if (!email) {
            errorCount++
            $('#email').after(getErrorHtml('Please enter email!'))
        } else $('#email').next($('.color-red')).remove()


        if (!phone) {
            errorCount++
            $('#phone').after(getErrorHtml('Please enter number!'))
        }
        else if (phone.length !== 10){
            errorCount++
            $('#phone').after(getErrorHtml('Please enter 10 digit valid number!'))
        }
        else $('#phone').next($('.color-red')).remove()


        if (!password) {
            errorCount++
            $('#password').after(getErrorHtml('Please enter password!'))
        }
        else {
            const specialChars = ['@', '#']

            if (!specialChars.some(character => password.includes(character))){
                errorCount++
                $('#password').after(getErrorHtml('Please include special character in password!'))
            }
            else $('#password').next($('.color-red')).remove()
        }

        return !errorCount;
    }

    function getErrorHtml(message) {
        return '<span class="color-red">' + message + '</span>'
    }
</script>

</body>
</html>